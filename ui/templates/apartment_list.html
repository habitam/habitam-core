{% extends 'base.html' %} 

{% block body %}
<div class="container">
	<table class="table table-hover table-condensed">
		<thead>
			<tr>
				<th>&nbsp;</th>
				<th>&nbsp;</th>
				<th>Apartament</th>
				<th>Etaj</th>
				<th>Proprietar</th>
				<th>Nr. camere</th>
				<th>Nr. persoane</th>
				<th>Suprafață</th>
				<th>&nbsp;</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th colspan="8"><em>Bloc {{ building.name }}</em></th>
				<td colspan="1">
					<button class="btn btn-mini" type="button">Operațiuni</button>
					<button class="btn btn-mini" type="button">Modifică</button>
				</td>	
			</tr>
			{% for sc in building.apartmentgroup_set.all %}
				<tr>
					<td>&nbsp;</td>
					<th colspan="7">Scara {{ sc.name }}</td>
					<th>
						<button class="btn btn-mini" type="button">Operațiuni</button>
						<button class="btn btn-mini" type="button">Modifică</button>
					</th>
				</tr>
				{% for ap in sc.apartment_set.all %}
				<tr>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
					<td>{{ ap.name }}</td>
					<td>{{ ap.floor }}</td>
					<td>{{ ap.owner }}</td>
					<td>{{ ap.rooms }}</td>
					<td>{{ ap.inhabitance }}</td>
					<td>{{ ap.area }}</td>
					<td>
						<button class="btn btn-mini" type="button">Operațiuni</button>
						<button class="btn btn-mini" type="button" onclick="window.location='{% url 'edit_apartment' building_id=building.id apartment_id=ap.id %}'">Modifică</button>
						<button class="btn btn-mini btn-inverse" type="button">Încasează</button>
					</td>
				</tr>
				{% endfor %} 
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %}
